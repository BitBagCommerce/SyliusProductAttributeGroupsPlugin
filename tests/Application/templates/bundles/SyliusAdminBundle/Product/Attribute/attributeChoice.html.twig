<div class="ui fluid action input" id="attributeChoice" data-action="{{ path('sylius_admin_render_attribute_forms') }}" style="margin-bottom: 30px;">
    {{ form_widget(form, {'attr': {'class': 'ui fluid search dropdown', 'id': 'sylius_product_attribute_choice'}}) }}
    <button class="ui green labeled icon button" type="button">
        <i class="icon plus"></i> {{ 'sylius.ui.add_attributes'|trans }}
    </button>

    <select name="attributeGroups" id="attributeGroups" class="ui fluid search dropdown"></select>

    <button class="ui yellow labeled icon button selectAttributeGroup" type="button">
        <i class="icon plus"></i> {{ 'bitbag_sylius_product_attribute_group_plugin.ui.attributes_group'|trans }}
    </button>
</div>

<script>
    async function getAttributesGroup() {
        const response = await fetch("http://127.0.0.1:8000/api/v2/shop/shop-attributes-groups");

        const data = await response.json();

        const selectAttributeGroup = document.querySelector("#attributeGroups");

        let attributeGroups = [];

        for(item of data["hydra:member"]) {
            var opt = document.createElement('option');
            opt.value = item.name;
            opt.innerHTML = item.name;
            selectAttributeGroup.appendChild(opt);
        }
    }

    async function setAttributesGroupForProduct() {
        const selectAttributeGroup = document.querySelector(".selectAttributeGroup");
        selectAttributeGroup.onclick();
        console.log(selectAttributeGroup);
    }



    getAttributesGroup();
    setAttributesGroupForProduct();
</script>
